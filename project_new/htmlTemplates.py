css = '''
<style>
    .chat-message {
        padding: 1.5rem;
        border-radius: 1rem;
        margin-bottom: 1rem;
        display: flex;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease-in-out;
    }

    .chat-message:hover {
        transform: scale(1.05);
    }

    .chat-message.user {
        background-color: #2b313e;
    }

    .chat-message.bot {
        background-color: #475063;
    }

    .chat-message .avatar {
        width: 20%;
    }

    .chat-message .avatar img {
        max-width: 78px;
        max-height: 78px;
        border-radius: 50%;
        object-fit: cover;
    }

    .chat-message .message {
        width: 60%;
        padding: 1.5rem;
        color: #fff;
        border-radius: 0.5rem;
    }
</style>

'''

bot_template = '''
<div class="chat-message bot">
    <div class="avatar">
        <img src="data:image/png;base64,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" style="max-height: 78px; max-width: 78px; border-radius: 50%; object-fit: cover;">
    </div>
    <div class="message">{{MSG}}</div>
</div>
'''

user_template = '''
<div class="chat-message user">
    <div class="avatar">
        <img src="data:image/jpeg;base64,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">
    </div>    
    <div class="message">{{MSG}}</div>
</div>
'''